<div class="card-right">
  <div class="header">
    <img src="../../../../../../assets/img/ic-close.svg" alt="alt" (click)="close()">
  </div>
  <div class="body">
    <!-- SZR -->
    <form [formGroup]="formGroupSZR"
      class="container prod-card" [hidden]="!this.product.SZR">
      <div class="form-content">
        <div class="edit-event row">
          <div class="activity-button">
              <mat-slide-toggle [(ngModel)]="this.product.selectProductSzr.active" [ngModelOptions]="{standalone: true}" (change)="changeActivitySZR(product.selectProductSzr)">Активировать/деактивировать</mat-slide-toggle>
          </div>
          <div class="button-event">
            <!-- <button class="delete-item" (click)="deleteProductSzr(product.selectProductSzr.id)"><i class="material-icons delete">delete</i><span>Удалить</span></button> -->
            <button type="submit" class="save" *ngIf="!disable" (click)="previewSubmitSZR(formGroupSZR.value);disabled()">Сохранить</button>
            <button class="save" *ngIf="disable" (click)="enabled()">Редактировать</button>
          </div>
        </div>
        <div class="info-block row">
          <div class="form-group col-md-6 col-12">
            <mat-form-field>
              <input type="text" placeholder="Название в CMS" aria-label="Название в CMS" matInput [(value)]="this.product.selectCMS.name" formControlName="nameSZRCMS" [matAutocomplete]="autoCMS">
              <mat-icon matSuffix class="search-icon">search</mat-icon>
              <mat-autocomplete #autoCMS="matAutocomplete" [displayWith]="displayFnCMS">
                <mat-option *ngFor="let CMS of filteredOptionsCMS | async" [value]="CMS">
                  {{CMS.name}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div class="prod-info col-md-6 col-12">
            <div class="info">
              <p class="title">
                Бренд
              </p>
              <p class="main-info">{{product.selectProductSzr.brand?.brandName}}</p>
            </div>
          </div>
          <div class="prod-info col-md-6 col-12">
            <div class="info">
              <p class="title">
                Группа
              </p>
              <p class="main-info">{{product.selectProductSzr.fertilizerGroup?.fertilizerGroupName}}</p>
            </div>
          </div>
          <div class="prod-info col-md-6 col-12">
            <div class="info">
              <p class="title">
                Рейтинг <span>{{this.product.selectProductSzr.rating}}/5</span>
              </p>
              <p class="main-info">
                <bar-rating name="rating" [(rate)]="this.product.selectProductSzr.rating" [max]="5" [readOnly]="true"></bar-rating>
              </p>
            </div>
            <div class="review" *ngIf="this.product.selectProductSzr.commentAmount > 0">
              <a (click)="goToReview(this.product.selectProductSzr.id)"> Отзывы <span>{{this.product.selectProductSzr.commentAmount}}</span> </a>
            </div>
          </div>
        </div>
        <div class="edit-content row">
          <div class="form-group col-md-6 col-12">
            <!-- <mat-form-field>
              <mat-select placeholder="Название в CMS" formControlName="nameCSM" [(value)]="this.product.selectProductSzr.name">
                <mat-option *ngFor="let product of productsCMS" [value]="product.name">{{product.name}}</mat-option>
              </mat-select>
            </mat-form-field> -->
            <mat-form-field>
              <input type="text" placeholder="Название в ERP" aria-label="Название в ERP" matInput [(value)]="this.product.selectProductSzr.name" formControlName="nameSZRERP" [matAutocomplete]="autoERP">
              <mat-icon matSuffix class="search-icon">search</mat-icon>
              <mat-autocomplete #autoERP="matAutocomplete" [displayWith]="displayFnERP">
                <mat-option *ngFor="let ERP of filteredOptionsERP | async" [value]="ERP">
                  {{ERP.name}}
                </mat-option>
              </mat-autocomplete>
            </mat-form-field>
          </div>
          <div class="form-group col-md-6 col-12">
            <p class="link">Линк</p>
            <p><a href="https://tdnasinnya.com/uk/kataloh/zasoby-zakhystu-roslyn" target="_blank">https://tdnasinnya.com/uk/kataloh/zasoby-zakhystu-roslyn</a></p>
          </div>
        </div>
        <div class="link-action" *ngIf="sameSale.length > 0">
          <ul><p>Акци</p>
            <li *ngFor="let sale of sameSale"><p><img src="../../../../../assets/img/ic-sales.svg" alt="alt"> <span>{{sale.topic}}</span></p></li>
          </ul>
        </div>
      </div>
    </form>
  </div>
</div>